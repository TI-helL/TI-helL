# ORM( object relational mapping )
## 영속성
- 생성된 데이터가 프로그램 종료시에도 사라지지 않음을 말함
- 영속성을 가지지 않는 프로그램의 데이터는 메모리 상에서만 존재하고 프로그램 종료 시 사라진다
### 영구적인 객체
- 메모리상의 데이터를 파일시스템, rdb, odb등을 활용해 영구적으로 저장하여 영속성을 부여
- CRUD중 CUD가 영속성을 만들어주는 동작이다
- 데이터를 db에 저장하기 위해선 JDBC, Spring JDBC, Persistence Framework를 사용한다.
### Persistence Layer
- 프로그램 아키텍처에서 데이터에 영속성을 부여해주는 계층이다
- JDBC를 사용하여 직접 구현해 줄 수도 있지만 주로 Persistence Framework를 사용한다.
### Persistence Framework
- db에 연결되는 시스템을 빠르게 개발해 줄 수 있으며 안정적인 구동을 보장한다.
- Persistence Framework는 SQL Mapper와 ORM으로 나눌 수 있다.
- JPA, Hibernate(JPA의 구현체), Mybatis
## ORM이란
- 객체-관계 매핑
- 객체와 관계형 데이터베이스를 자동으로 매핑해주는 것을 말한다.
- 객체지향프로그래밍은 클래스를 사용하고 관계형데이터베이스는 테이블을사용한다.
- 객체모델과 관계형모델 간에는 불일치가 존재한다.
- ORM을 통해 객체간의 관계를 바탕으로 SQL을 자동으로 생성하여 불일치를 해결한다.
- 오브젝트 필드는 데이터베이스의 데이터와 매핑된다.
- 이를 이용해 객체를 통해서 데이터베이스의 데이터를 간접적으로 다룰수 있다.
### 장단점
장점
- 객체지향적인 코드로 비지니스 로직에 집중할 수 있도록 해준다
- ORM을 사용하면 SQL Query가 아닌 직관적인 코드로 데이터를 조작할 수 있다.
- 선언, 할당, 종료 같은 부수적인 코드가 필요 없다.
- 객체에 대한 코드가 별도로 분리되어 있어 가독성이 올가간다.
- 절차적인 SQL이 아닌 객체지향적인 접근으로 인해 생산성이 향상된다
- 재사용 및 유지보수의 편리성
- ORM은 독립적으로 작성, 재활용이 용이하다.
- 모델에서 가공된 데이터를 컨트롤러를 활용해 뷰와 합칠 수 있어 디자인 패턴을 견고하게 다지는데 유리하다.
- 매핑정보가 명확하여 ERD를 보는것에 대한 의존도를 낮출 수 있다.
- DBMS에 대한 종속성이 줄어든다
- 객체간의 관계를 바탕으로 SQL을 생성하기에 RDMBS의 데이터 구조와, Java 객체지향 모델사이의 간격을 좁힐 수 있다.
- DB에 대하 종속적이지 않다(구현방법, 자료형 타입 등)
- DBMS를 교체하는 등의 작업에도 리스크와 시간의 소요가 적다
- 자바에서 가공할 경우 equals, hashCode의 오버라이드와 같은 자바 기능을 이용할 수 있다.

단점
- 완벽한 ORM으로만 서비스를 구현하기 어렵다
- 사용은 편리하지만 설계는 매우 신중해야한다
- 프로젝트가 복잡할수록 난이도가 급상승한다
- 잘못 구현된 경우 성능저하 및 일관성이 무너질 수 있다
- 자주사용되는 대형쿼리는 속도를 위해 SP를 쓰는등의 튜닝이 필요하다
- DBMS의 고유기능을 이용할 수 없다
- 프로시저가 많은 시스템에선 ORM의 객체지향적 장점을 이용하기 어려울 수 있다
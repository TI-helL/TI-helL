# 메모리 구조 

이 부분 진짜 오랜만에 보는데 헷갈리지 않도록 다시 정리한다. </br>
밑에 그림 몇개만 보면 바로 기억남


![fbzJjII](https://user-images.githubusercontent.com/45758481/134809381-b2d292e9-842a-41c9-82b1-6f270ed6e522.png)
![FdJ8Xbd](https://user-images.githubusercontent.com/45758481/134809384-58b47d07-c6b1-417a-ad7c-516109d515d0.png)


## 코드 영역

- 프로그래머가 작성한 소스 코드 부분
- 함수, 제어문, 상수 등이 여기에 지정된다.
- 고정된 메모리 영역

## 데이터 영역

- 전역 변수, static 변수가 해당 된다.
- 프로그램이 시작 할 때 정적으로 할당 된다.
- 고정된 메모리 영역

## 스택 영역

- 컴파일 타임에 크기가 결정 된다.
- 함수 호출 할때 local value, parameter 등이 해당 됨

## 힙 영역

- 런타임에 결정 된다.
- 메모리 동적 할당 시 사용 된다.

```c
int main() {

	// 정상적인 배열선언
	int arr[10];

	// 비 정상적인 배열선언
	int i = 10;
	int arr[i];

	return 0;
 }
```

비 정상적인 배열 선언에서는 컴파일러는 arr 의 크기가 40 바이트라는 것을 알 수 없다.
컴파일러는 `int i` 가 4바이트라는 건 알지만 값이 10으로 초기화 된 건 모른다.
그건 런타임에 결정되기 때문.

힙 영역 : 할당해야 할 메모리의 크기를 프로그램이 실행되는 동안 결정해야 하는 경우(런 타임때) 유용하게 사용되는 공간


> 위의 HEAP과 STACK영역은 사실 같은 공간을 공유한다. HEAP이 메모리 위쪽 주소부터 할당되면 STACK은 아래쪽부터 할당되는 식이다. 그래서 각 영역이 상대 공간을 침범하는 일이 발생할 수 있는데 이를 각각 HEAP OVERFLOW, STACK OVERFLOW라고 칭합니다.

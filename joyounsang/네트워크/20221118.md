# TCP의 원도우
- 윈도우 크기가 수신자와 네트워크의 상황에 따라서 조정됨
- 세그먼트 단위로 전송하지만 바이트 단위로 윈도우를 관리함

# 수신 윈도우
- 윈도우 크기는 송신측으로부터 넘치지 않고 수신할 수 있는 데이터 바이트의 개수를 결정함

# TCP의 확인 응답 유형
누적확인 응답(ACK)
- TCP 기본헤더에 정의된 32비트 ACK필드를 사용하여 이보다 작은 순서번호의 데이터는 모두 정상수신하였음을의미함
- 긍정 누적 확인응답 방식으로서 정상적으로 수신되는 경우 외에 세그먼트가 폐기, 손실, 혹은 중복 수신되는 경우에 대한 어떠한 피드백도 없음

선택 확인응답(SACK,selective ACK)
- TCP옵션헤더를 이용한 부수적인 추가정보로서 정상 수신된 바이트의 순서번호를 알려줌

# 확인응답 전송의 일반적인 규칙들
1. 데이터 세그먼트를 전송할 때에, 수신하고자 하는 다음 순서번호를 TCP헤더에 피기배킹하여 포함
2. 수신측이 전송할 데이터가 없고, 확인응답을 전송하지 않았으며 순서에 맞는 데이터 세그먼트를 수신하였다면ACK세그먼트 전송을 잠시 보류(일반적으로500ms)하여 트래픽 증가를 방지함
3. 기대한 순서번호를 가지는 데이터 세그먼트를 수신하였고, 또한 이전에 수신한 순서에 맞는 세그먼트가 아직 확인응답되지 않았다면 즉시 ACK세그먼트를 전송함
4. 기대한 것보다 더 큰 값을 가진(순서에어긋난) 순서번호를 갖는 세그먼트가 도착하면 ACK세그먼트를 즉시 전송하여 송신측에게 기대하는 순서번호를 알림
5. 누락된 세그먼트가 도착하면 기대하는 다음 순서번호를 알리기 위해 바로 ACK세그먼트를 전송함
6. 중복된 세그먼트를 수신하면, 수신측은 세그먼트를 폐기하고 즉시 ACK세그먼트를 전송함(ACK세그먼트자체의 손실 문제일 가능성이 높음)

# 데이터 세그먼트의 재전송
TCP Tahoe
- RTO(Retransmission Time-Out) : 타이머에 따른 재전송
- 타이머 종료시 송신 버퍼에서 가장 작은 순서번호를 갖는 세그먼트를 재전송하고 다시 타이머 구동
- RTT를 기반으로 RTO값(4~5배)을 갱신

TCP Reno
- 3개의 중복 ACK세그먼트 이후의 재전송
-재전송 타이머 종료 이전에 “빠른 재전송”을 위하여 3번의 중복 ACK를 수신하면 패킷 손실로 간주하여 재전송
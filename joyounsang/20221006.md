aws spot instance
장점
-용량 활용
 = EC2스페어 용량의 수요와 공급량에 따라 가격이 결정되기 떄문에 시장 중심의 낮은 가격으로 Amazon EC2의 안정성,보안성,성능,제어 및 탄역성을 제공 받을 수 있다.

-운영 비용 절감
 = On-demand Instance와 비교하여 최대 70~90%의 운영 비용을 절감할 수있다.

-처리량 향상
 = 상대 비정상 웹 서비스,이미지 랜더링,빅데이터 분석,대량의 병렬 계산 등 애플리케이션을 실행하고 확장 가능하다.

- 스팟 플릿
Load balancing workloads : 모든 가용영역에서 동일한 사이즈의 인스턴스 사용. 웹서비스에 적합.
Flexible workloads :  모든 AZ에서 모든 사이즈의 인스턴스 사용. 배치 와 CI/CD 작업에 적합
Big data workloads : 단일 AZ에서 여러사이즈의 인스턴스 사용. MapReduce 작업에 적합.

- 스팟 블록
Defined duration workloads :  1~6시간 동안의 스팟 블록(지정된 지속시간) 인스턴스 사용.

- 스팟 플릿 인스턴스 특징
핵심은 스팟 인스턴스 중단에 항상 대비해야 한다는 것이다.
- 종료시 2분전에 경고하는 공지 제공- 종료 공지를 이용하여 스팟 인스턴스의 상태를 모니터링
- 합리적인 입찰 가격 사용- 예상치 못한 인스턴스 종료에 어플리케이션이 대처할 수 있도록 확인
- 스팟 인스턴스가 종료되어도 영향을 받지 않을 장소(S3, EBS)에 중요 데이터 저장

- 스팟 인스턴스 중단 이유는 아래와 같다.
- 가격: 스팟 가격이 최고 가격보다 크다.
- 용량: 미사용 EC2 인스턴스가 스팟 인스턴스의 수요를 충족할 만큼 충분하지 않으면 Amazon EC2에서 스팟 인스턴스를 중단한다. 인스턴스가 중단되는 순서는 Amazon EC2에서 결정된다.
- 제약 조건: 요청에 시작 그룹 또는 가용 영역 그룹과 같은 조건이 더 이상 충족할 수 없으면 중단된다.

스팟 플릿을 지속적으로 유지하기 위해서는?
- 스팟 플릿의 경우 가용량 혹은 비딩으로 인해 언제 중단될 지 알 수 없다.

따라서 describeSpotInstanceRequests(스팟상태체크) / describespotPriceHistory(스팟비딩체크) API를 통해 주기적으로 스팟 상태를 체크하고 새로운 스팟 요청을 해줘야 한다.
